stages:          
  - build
  - test
  - deploy

docker-compose-build:       
  stage: build
  script:
    - docker compose build

test-job:   
  stage: test   
  script:
    - npm test

docker-compose-up:      
  stage: deploy 
  environment: production
  script:
    - docker compose up --detach
